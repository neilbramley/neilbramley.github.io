<!DOCTYPE html>
<html>

<head>
    <title>Physical Linda</title>

    <!-- Libraries -->
    <script src="lib/ivank.js"></script>
    <script src="lib/jquery.min.js"></script>
    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="css/main.css"/>
</head>

<body>

<!-- TASK 1 -->

<div sid="task1" style = "width: 900px; margin: 0 auto;">
    <h2>Task 1: Simultaneous tracking</h2>
    <fieldset style = "display:inline-block;">
        <legend>Object 1</legend>
        <fieldset style="float:left;margin:5px">
            x (m):<input type="text" class = "input" value="0" id="in_t1_x1" style="width:50px;">
            y (m):<input type="text" class = "input" value="1" id="in_t1_y1" style="width:50px;">
        </fieldset>

        <fieldset style="float:left;margin:5px">
            v (m/s):<input type="text" class = "input" value="1.2" id="in_t1_v1" style="width:50px;">
            angle (radians):<input type="text" class = "input" value="0.2" id="in_t1_a1" style="width:50px;">
        </fieldset>
    </fieldset>

    <fieldset  style = "display:inline-block;">
        <legend>Object 2</legend>
        <fieldset style="float:left;margin:5px">
            x (m):<input type="text" class = "input" value="6" id="in_t1_x2" style="width:50px;">
            y (m):<input type="text" class = "input" value="2" id="in_t1_y2" style="width:50px;">
        </fieldset>

        <fieldset style="float:left;margin:5px">
            v (m/s):<input type="text" class = "input" value="1.2" id="in_t1_v2" style="width:50px;">
            angle (radians):<input type="text" class = "input" value="3.5" id="in_t1_a2" style="width:50px;">
        </fieldset>
    </fieldset>

    <ol>
        <li>Choose the settings.</li>
        <li>Hit start to watch clip.</li>
        <li>When the animation freezes, click on the ball that you think will hit the wall first</li>
    </ol>

    <div id="start_button_div">
        <button class="button" id = "startBtnTask1" onclick="StartTask1();">Start</button>
    </div>
    <br>
    <iframe src="iframe1.html" width=600 height=400 id="task1_frame" name="task1_frame" tabindex="0"></iframe>
    <br><br><br>
</div>

<!-- TASK 2 -->
<div sid="task2" style = "width: 900px; margin: 0 auto;">
    <h2>Task 2: Physical Linda</h2>

    <fieldset style = "display:inline-block;">
        <legend>Object 1</legend>
        <fieldset style="float:left;margin:5px">
            x (m):<input type="text" class = "input" value="2" id="in_t2_x1" style="width:50px;">
            y (m):<input type="text" class = "input" value="2" id="in_t2_y1" style="width:50px;">
        </fieldset>

        <fieldset style="float:left;margin:5px">
            v (m/s):<input type="text" class = "input" value="1.2" id="in_t2_v1" style="width:50px;">
            angle (radians):<input type="text" class = "input" value="0.2" id="in_t2_a1" style="width:50px;">
        </fieldset>
    </fieldset>

    <fieldset  style = "display:inline-block;">
        <legend>Object 2</legend>
        <fieldset style="float:left;margin:5px">
            x (m):<input type="text" class = "input" value="3" id="in_t2_x2" style="width:50px;">
            y (m):<input type="text" class = "input" value="2.05" id="in_t2_y2" style="width:50px;">
        </fieldset>

        <fieldset style="float:left;margin:5px">
            v (m/s):<input type="text" class = "input" value="1.5" id="in_t2_v2" style="width:50px;">
            angle (radians):<input type="text" class = "input" value="0.1" id="in_t2_a2" style="width:50px;">
        </fieldset>
    </fieldset>

    <ol>
        <li>Choose the settings.</li>
        <li>Hit start to watch clip.</li>
    </ol>

    <div id="start_button_div">
    <button class="button" id = "startBtnTask2" onclick="StartTask2();">Start</button>
    </div>
    <br>
    <iframe src="iframe2.html" width=600 height=400 id="task2_frame" name="task2_frame" tabindex="0"></iframe>
    <br><br><br>
</div>


    <div>
    <h2>Task 3: Block aftermath</h2>
    <p>To be done<
    <br><br><br>
        <iframe src="iframe3.html" width=600 height=400 id="task3_frame" name="task3_frame" tabindex="0"></iframe>
    </div>

    <div>
        <ol>
            <li>Choose the settings.</li>
            <li>Hit start to watch clip.</li>
        </ol>
    </div>

    <script>

        // Start the various demos
        function StartTask1() {

            var input_params = [{x:Number($(in_t1_x1).val()),
             y:Number($(in_t1_y1).val()),
             v:Number($(in_t1_v1).val()),
             a:Number($(in_t1_a1).val())},

             {x:Number($(in_t1_x2).val()),
                 y:Number($(in_t1_y2).val()),
                 v:Number($(in_t1_v2).val()),
                 a:Number($(in_t1_a2).val())}
                 ];


                 var iframe = document.getElementById("task1_frame");

                 if (iframe) {
                    var iframeContent = (iframe.contentWindow || iframe.contentDocument);
                    console.log('Starting iframe');

                    document.getElementById("startBtnTask1").disabled = true;

                    iframeContent.Start(input_params);
                }
            }

        function StartTask2() {
            

            var input_params = [{x:Number($(in_t2_x1).val()),
                y:Number($(in_t2_y1).val()),
                v:Number($(in_t2_v1).val()),
                a:Number($(in_t2_a1).val())},
                {x:Number($(in_t2_x2).val()),
                y:Number($(in_t2_y2).val()),
                v:Number($(in_t2_v2).val()),
                a:Number($(in_t2_a2).val())}
                ];

             var iframe = document.getElementById("task2_frame");

             if (iframe) {
                console.log('got here');
                var iframeContent = (iframe.contentWindow || iframe.contentDocument);
                console.log('Starting Task 2');

                document.getElementById("startBtnTask2").disabled = true;

                iframeContent.Start(input_params);
            }
        }
        function ResetTask1() {
            document.getElementById("startBtnTask1").disabled = false;
        }

        function ResetTask2() {
            document.getElementById("startBtnTask2").disabled = false;
        }
        </script>

    </body>