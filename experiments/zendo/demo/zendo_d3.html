<!DOCTYPE html>
<meta charset="utf-8">
<body>
<script src="lib/d3.js"></script>
<script>

var mouse = [480, 250],
    count = 0;

var svg = d3.select("body").append("svg")
    .attr("width", 960)
    .attr("height", 500);

var g = svg.selectAll("g")
    .data(d3.range(25))
  .enter().append("g")
    .attr("transform", "translate(" + mouse + ")");

var piece_coord = [
      {"x":10, "y":30.0},
      {"x":19,"y":15.4},
      {"x":18.4,"y":46.0},
      {"x":15.8,"y":19.5}
    ];//The coordinates for the polygon making up a zendo piece relative to its centre


var r1 = svg.selectAll('r1')
.datum(piece_coord)
.enter().append("r1");

console.log(r1, r1.data);

function Start(params)
{
  r1.append("polygon")
    .attr("fill","yellow")
    .attr("stroke-width",2)
    .attr("points",function(d) { 
              return d.points.map(function(d) { return [scaleX(d.x),scaleY(d.y)].join(","); }).join(" ");})
    .attr("stroke","black");
}



console.log(r1, r1.data);
// g.append("rect")
//     .attr("rx", 6)
//     .attr("ry", 6)
//     .attr("x", -12.5)
//     .attr("y", -12.5)
//     .attr("width", 25)
//     .attr("height", 25)
//     .attr("transform", function(d, i) { return "scale(" + (1 - d / 25) * 20 + ")"; })
    // .style("fill", d3.scale.category20c());

// r1.datum(function(d) {
//   return {center: mouse.slice(), angle: 0};
// });

svg.on("mousemove", function() {
  mouse = d3.mouse(this);
});

d3.timer(function() {
  count++;
  // r1.attr("transform", function(d, i) {
  //   d.center[0] += (mouse[0] - d.center[0]) / (i + 5);
  //   d.center[1] += (mouse[1] - d.center[1]) / (i + 5);
  //   d.angle += Math.sin((count + i) / 10) * 7;
  //   return "translate(" + d.center + ")rotate(" + d.angle + ")";
  // });
});

</script>
